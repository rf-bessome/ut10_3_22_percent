<ПравилаРегистрации>
	<ВерсияФормата>2.01</ВерсияФормата>
	<Ид>854c2da5-c903-11e7-b3ea-d850e648b5f9</Ид>
	<Наименование>УправлениеТорговлей_10.3: Обмен с Клиент ЭДО</Наименование>
	<ДатаВремяСоздания>2018-10-13T11:35:10</ДатаВремяСоздания>
	<ПланОбмена Имя="ОбменУправлениеТорговлей103КлиентЭДО">ПланОбменаСсылка.ОбменУправлениеТорговлей103КлиентЭДО</ПланОбмена>
	<Конфигурация ВерсияПлатформы="8.2" ВерсияКонфигурации="10.3.48.1" СинонимКонфигурации="Управление торговлей, редакция 10.3">УправлениеТорговлей</Конфигурация>
	<СоставПланаОбмена>
		<Элемент>
			<Тип>ДокументСсылка.РеализацияТоваровУслуг</Тип>
			<Авторегистрация>false</Авторегистрация>
		</Элемент>
		<Элемент>
			<Тип>СправочникСсылка.Номенклатура</Тип>
			<Авторегистрация>false</Авторегистрация>
		</Элемент>
		<Элемент>
			<Тип>СправочникСсылка.Валюты</Тип>
			<Авторегистрация>false</Авторегистрация>
		</Элемент>
		<Элемент>
			<Тип>СправочникСсылка.БанковскиеСчета</Тип>
			<Авторегистрация>false</Авторегистрация>
		</Элемент>
		<Элемент>
			<Тип>РегистрСведенийЗапись.СоответствияОбъектовИнформационныхБаз</Тип>
			<Авторегистрация>false</Авторегистрация>
		</Элемент>
		<Элемент>
			<Тип>ДокументСсылка.СчетФактураВыданный</Тип>
			<Авторегистрация>false</Авторегистрация>
		</Элемент>
		<Элемент>
			<Тип>СправочникСсылка.Банки</Тип>
			<Авторегистрация>false</Авторегистрация>
		</Элемент>
		<Элемент>
			<Тип>СправочникСсылка.ВидыНоменклатуры</Тип>
			<Авторегистрация>false</Авторегистрация>
		</Элемент>
		<Элемент>
			<Тип>ДокументСсылка.ЗаказПоставщику</Тип>
			<Авторегистрация>false</Авторегистрация>
		</Элемент>
		<Элемент>
			<Тип>СправочникСсылка.Контрагенты</Тип>
			<Авторегистрация>false</Авторегистрация>
		</Элемент>
		<Элемент>
			<Тип>СправочникСсылка.Организации</Тип>
			<Авторегистрация>false</Авторегистрация>
		</Элемент>
		<Элемент>
			<Тип>СправочникСсылка.ХарактеристикиНоменклатуры</Тип>
			<Авторегистрация>false</Авторегистрация>
		</Элемент>
		<Элемент>
			<Тип>СправочникСсылка.КлассификаторЕдиницИзмерения</Тип>
			<Авторегистрация>false</Авторегистрация>
		</Элемент>
		<Элемент>
			<Тип>СправочникСсылка.КлассификаторСтранМира</Тип>
			<Авторегистрация>false</Авторегистрация>
		</Элемент>
		<Элемент>
			<Тип>ДокументСсылка.СчетНаОплатуПокупателю</Тип>
			<Авторегистрация>false</Авторегистрация>
		</Элемент>
		<Элемент>
			<Тип>СправочникСсылка.ДоговорыКонтрагентов</Тип>
			<Авторегистрация>false</Авторегистрация>
		</Элемент>
		<Элемент>
			<Тип>ДокументСсылка.КорректировкаРеализации</Тип>
			<Авторегистрация>false</Авторегистрация>
		</Элемент>
	</СоставПланаОбмена>
	<ПравилаРегистрацииОбъектов>
		<Группа Отключить="false">
			<Код>000000002</Код>
			<Наименование>Справочники</Наименование>
			<ТипГруппы>Справочник</ТипГруппы>
			<Правило Отключить="false" Валидное="true">
				<Код>000000016</Код>
				<Наименование>Характеристики номенклатуры</Наименование>
				<ОбъектНастройки>СправочникСсылка.ХарактеристикиНоменклатуры</ОбъектНастройки>
				<ОбъектМетаданныхИмя>Справочник.ХарактеристикиНоменклатуры</ОбъектМетаданныхИмя>
				<ОбъектМетаданныхТип>Справочник</ОбъектМетаданныхТип>
				<РеквизитРежимаВыгрузки>РежимВыгрузкиПриНеобходимости</РеквизитРежимаВыгрузки>
				<ОтборПоСвойствамПланаОбмена/>
				<ОтборПоСвойствамОбъекта/>
			</Правило>
			<Правило Отключить="false" Валидное="true">
				<Код>000000001</Код>
				<Наименование>Банки</Наименование>
				<ОбъектНастройки>СправочникСсылка.Банки</ОбъектНастройки>
				<ОбъектМетаданныхИмя>Справочник.Банки</ОбъектМетаданныхИмя>
				<ОбъектМетаданныхТип>Справочник</ОбъектМетаданныхТип>
				<РеквизитРежимаВыгрузки>РежимВыгрузкиПриНеобходимости</РеквизитРежимаВыгрузки>
				<ОтборПоСвойствамПланаОбмена/>
				<ОтборПоСвойствамОбъекта/>
			</Правило>
			<Правило Отключить="false" Валидное="true">
				<Код>000000003</Код>
				<Наименование>Банковские счета</Наименование>
				<ОбъектНастройки>СправочникСсылка.БанковскиеСчета</ОбъектНастройки>
				<ОбъектМетаданныхИмя>Справочник.БанковскиеСчета</ОбъектМетаданныхИмя>
				<ОбъектМетаданныхТип>Справочник</ОбъектМетаданныхТип>
				<РеквизитРежимаВыгрузки>РежимВыгрузкиПриНеобходимости</РеквизитРежимаВыгрузки>
				<ОтборПоСвойствамПланаОбмена>
					<Группа>
						<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
						<ЭлементОтбора>
							<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
							<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
							<СвойствоПланаОбмена>ИспользоватьОтборПоУчастникамЭДО</СвойствоПланаОбмена>
							<ВидСравнения>Равно</ВидСравнения>
							<СвойствоОбъекта>false</СвойствоОбъекта>
							<ТаблицаСвойствПланаОбмена>
								<Свойство>
									<Наименование>ИспользоватьОтборПоУчастникамЭДО</Наименование>
									<Тип>Булево</Тип>
									<Вид>Реквизит</Вид>
								</Свойство>
							</ТаблицаСвойствПланаОбмена>
						</ЭлементОтбора>
						<ЭлементОтбора>
							<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
							<ТипСвойстваОбъекта>СправочникСсылка.Контрагенты</ТипСвойстваОбъекта>
							<СвойствоПланаОбмена>[УчастникиЭДО].Контрагент</СвойствоПланаОбмена>
							<ВидСравнения>Равно</ВидСравнения>
							<СвойствоОбъекта>Владелец</СвойствоОбъекта>
							<ТаблицаСвойствОбъекта>
								<Свойство>
									<Наименование>Владелец</Наименование>
									<Тип>СправочникСсылка.Контрагенты</Тип>
									<Вид>Свойство</Вид>
								</Свойство>
							</ТаблицаСвойствОбъекта>
							<ТаблицаСвойствПланаОбмена>
								<Свойство>
									<Наименование>[УчастникиЭДО]</Наименование>
									<Вид>ТабличнаяЧасть</Вид>
								</Свойство>
								<Свойство>
									<Наименование>Контрагент</Наименование>
									<Тип>СправочникСсылка.Контрагенты</Тип>
									<Вид>Реквизит</Вид>
								</Свойство>
							</ТаблицаСвойствПланаОбмена>
						</ЭлементОтбора>
						<ЭлементОтбора>
							<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
							<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
							<СвойствоПланаОбмена>[УчастникиЭДО].Организация</СвойствоПланаОбмена>
							<ВидСравнения>Равно</ВидСравнения>
							<СвойствоОбъекта>Владелец</СвойствоОбъекта>
							<ТаблицаСвойствОбъекта>
								<Свойство>
									<Наименование>Владелец</Наименование>
									<Тип>СправочникСсылка.Организации</Тип>
									<Вид>Свойство</Вид>
								</Свойство>
							</ТаблицаСвойствОбъекта>
							<ТаблицаСвойствПланаОбмена>
								<Свойство>
									<Наименование>[УчастникиЭДО]</Наименование>
									<Вид>ТабличнаяЧасть</Вид>
								</Свойство>
								<Свойство>
									<Наименование>Организация</Наименование>
									<Тип>СправочникСсылка.Организации</Тип>
									<Вид>Реквизит</Вид>
								</Свойство>
							</ТаблицаСвойствПланаОбмена>
						</ЭлементОтбора>
					</Группа>
				</ОтборПоСвойствамПланаОбмена>
				<ОтборПоСвойствамОбъекта/>
			</Правило>
			<Правило Отключить="false" Валидное="true">
				<Код>000000004</Код>
				<Наименование>Валюты</Наименование>
				<ОбъектНастройки>СправочникСсылка.Валюты</ОбъектНастройки>
				<ОбъектМетаданныхИмя>Справочник.Валюты</ОбъектМетаданныхИмя>
				<ОбъектМетаданныхТип>Справочник</ОбъектМетаданныхТип>
				<РеквизитРежимаВыгрузки>РежимВыгрузкиПриНеобходимости</РеквизитРежимаВыгрузки>
				<ОтборПоСвойствамПланаОбмена/>
				<ОтборПоСвойствамОбъекта/>
			</Правило>
			<Правило Отключить="false" Валидное="true">
				<Код>000000005</Код>
				<Наименование>Виды номенклатуры</Наименование>
				<ОбъектНастройки>СправочникСсылка.ВидыНоменклатуры</ОбъектНастройки>
				<ОбъектМетаданныхИмя>Справочник.ВидыНоменклатуры</ОбъектМетаданныхИмя>
				<ОбъектМетаданныхТип>Справочник</ОбъектМетаданныхТип>
				<РеквизитРежимаВыгрузки>РежимВыгрузкиПриНеобходимости</РеквизитРежимаВыгрузки>
				<ОтборПоСвойствамПланаОбмена/>
				<ОтборПоСвойствамОбъекта/>
			</Правило>
			<Правило Отключить="false" Валидное="true">
				<Код>000000006</Код>
				<Наименование>Договоры контрагентов</Наименование>
				<ОбъектНастройки>СправочникСсылка.ДоговорыКонтрагентов</ОбъектНастройки>
				<ОбъектМетаданныхИмя>Справочник.ДоговорыКонтрагентов</ОбъектМетаданныхИмя>
				<ОбъектМетаданныхТип>Справочник</ОбъектМетаданныхТип>
				<РеквизитРежимаВыгрузки>РежимВыгрузкиПриНеобходимости</РеквизитРежимаВыгрузки>
				<ОтборПоСвойствамПланаОбмена/>
				<ОтборПоСвойствамОбъекта/>
				<ПриОбработке>ИспользоватьКэш = Ложь;

ТекстЗапроса = 
	"ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
	|ИЗ
	|	ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО КАК ПланОбменаОсновнаяТаблица
	|		ЛЕВОЕ СОЕДИНЕНИЕ ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО.УчастникиЭДО КАК ПланОбменаУчастникиЭДО
	|		ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаУчастникиЭДО.Ссылка
	|ГДЕ
	|	(ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО
	|			И ПланОбменаУчастникиЭДО.Организация = &amp;СвойствоОбъекта_Организация
	|			И ПланОбменаУчастникиЭДО.Контрагент = &amp;СвойствоОбъекта_Контрагент
	|		ИЛИ НЕ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО)
	|	И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
	|	И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &amp;ОбменУправлениеТорговлей103КлиентЭДОЭтотУзел
	|	[УсловиеОтбораПоРеквизитуФлагу]";

ПараметрыЗапроса.Вставить("Организация", Объект.Организация);
ПараметрыЗапроса.Вставить("Контрагент",  Объект.Владелец);</ПриОбработке>
				<ПриОбработкеДополнительный>ИспользоватьКэш = Ложь;

ТекстЗапроса = 
	"ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
	|ИЗ
	|	ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО КАК ПланОбменаОсновнаяТаблица
	|		ЛЕВОЕ СОЕДИНЕНИЕ ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО.УчастникиЭДО КАК ПланОбменаУчастникиЭДО
	|		ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаУчастникиЭДО.Ссылка
	|ГДЕ
	|	(ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО
	|			И ПланОбменаУчастникиЭДО.Организация = &amp;СвойствоОбъекта_Организация
	|			И ПланОбменаУчастникиЭДО.Контрагент = &amp;СвойствоОбъекта_Контрагент
	|		ИЛИ НЕ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО)
	|	И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
	|	И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &amp;ОбменУправлениеТорговлей103КлиентЭДОЭтотУзел
	|	[УсловиеОтбораПоРеквизитуФлагу]";

ПараметрыЗапроса.Вставить("Организация", Объект.Организация);
ПараметрыЗапроса.Вставить("Контрагент",  Объект.Владелец);</ПриОбработкеДополнительный>
			</Правило>
			<Правило Отключить="false" Валидное="true">
				<Код>000000007</Код>
				<Наименование>Классификатор единиц измерения</Наименование>
				<ОбъектНастройки>СправочникСсылка.КлассификаторЕдиницИзмерения</ОбъектНастройки>
				<ОбъектМетаданныхИмя>Справочник.КлассификаторЕдиницИзмерения</ОбъектМетаданныхИмя>
				<ОбъектМетаданныхТип>Справочник</ОбъектМетаданныхТип>
				<РеквизитРежимаВыгрузки>РежимВыгрузкиПриНеобходимости</РеквизитРежимаВыгрузки>
				<ОтборПоСвойствамПланаОбмена/>
				<ОтборПоСвойствамОбъекта/>
			</Правило>
			<Правило Отключить="false" Валидное="true">
				<Код>000000008</Код>
				<Наименование>Контрагенты</Наименование>
				<ОбъектНастройки>СправочникСсылка.Контрагенты</ОбъектНастройки>
				<ОбъектМетаданныхИмя>Справочник.Контрагенты</ОбъектМетаданныхИмя>
				<ОбъектМетаданныхТип>Справочник</ОбъектМетаданныхТип>
				<РеквизитРежимаВыгрузки>РежимВыгрузкиПриНеобходимости</РеквизитРежимаВыгрузки>
				<ОтборПоСвойствамПланаОбмена>
					<Группа>
						<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
						<ЭлементОтбора>
							<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
							<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
							<СвойствоПланаОбмена>ИспользоватьОтборПоУчастникамЭДО</СвойствоПланаОбмена>
							<ВидСравнения>Равно</ВидСравнения>
							<СвойствоОбъекта>false</СвойствоОбъекта>
							<ТаблицаСвойствПланаОбмена>
								<Свойство>
									<Наименование>ИспользоватьОтборПоУчастникамЭДО</Наименование>
									<Тип>Булево</Тип>
									<Вид>Реквизит</Вид>
								</Свойство>
							</ТаблицаСвойствПланаОбмена>
						</ЭлементОтбора>
						<ЭлементОтбора>
							<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
							<ТипСвойстваОбъекта>СправочникСсылка.Контрагенты</ТипСвойстваОбъекта>
							<СвойствоПланаОбмена>[УчастникиЭДО].Контрагент</СвойствоПланаОбмена>
							<ВидСравнения>Равно</ВидСравнения>
							<СвойствоОбъекта>Ссылка</СвойствоОбъекта>
							<ТаблицаСвойствОбъекта>
								<Свойство>
									<Наименование>Ссылка</Наименование>
									<Тип>СправочникСсылка.Контрагенты</Тип>
									<Вид>Свойство</Вид>
								</Свойство>
							</ТаблицаСвойствОбъекта>
							<ТаблицаСвойствПланаОбмена>
								<Свойство>
									<Наименование>[УчастникиЭДО]</Наименование>
									<Вид>ТабличнаяЧасть</Вид>
								</Свойство>
								<Свойство>
									<Наименование>Контрагент</Наименование>
									<Тип>СправочникСсылка.Контрагенты</Тип>
									<Вид>Реквизит</Вид>
								</Свойство>
							</ТаблицаСвойствПланаОбмена>
						</ЭлементОтбора>
					</Группа>
				</ОтборПоСвойствамПланаОбмена>
				<ОтборПоСвойствамОбъекта/>
			</Правило>
			<Правило Отключить="false" Валидное="true">
				<Код>000000009</Код>
				<Наименование>Номенклатура</Наименование>
				<ОбъектНастройки>СправочникСсылка.Номенклатура</ОбъектНастройки>
				<ОбъектМетаданныхИмя>Справочник.Номенклатура</ОбъектМетаданныхИмя>
				<ОбъектМетаданныхТип>Справочник</ОбъектМетаданныхТип>
				<РеквизитРежимаВыгрузки>РежимВыгрузкиПриНеобходимости</РеквизитРежимаВыгрузки>
				<ОтборПоСвойствамПланаОбмена/>
				<ОтборПоСвойствамОбъекта/>
				<ПередОбработкой>Если НЕ Объект.ЭтоГруппа И (Объект.Набор ИЛИ Объект.Комплект) Тогда
	Отказ = Истина;
КонецЕсли;</ПередОбработкой>
			</Правило>
			<Правило Отключить="false" Валидное="true">
				<Код>000000010</Код>
				<Наименование>Организации</Наименование>
				<ОбъектНастройки>СправочникСсылка.Организации</ОбъектНастройки>
				<ОбъектМетаданныхИмя>Справочник.Организации</ОбъектМетаданныхИмя>
				<ОбъектМетаданныхТип>Справочник</ОбъектМетаданныхТип>
				<РеквизитРежимаВыгрузки>РежимВыгрузкиПриНеобходимости</РеквизитРежимаВыгрузки>
				<ОтборПоСвойствамПланаОбмена>
					<Группа>
						<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
						<ЭлементОтбора>
							<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
							<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
							<СвойствоПланаОбмена>ИспользоватьОтборПоУчастникамЭДО</СвойствоПланаОбмена>
							<ВидСравнения>Равно</ВидСравнения>
							<СвойствоОбъекта>false</СвойствоОбъекта>
							<ТаблицаСвойствПланаОбмена>
								<Свойство>
									<Наименование>ИспользоватьОтборПоУчастникамЭДО</Наименование>
									<Тип>Булево</Тип>
									<Вид>Реквизит</Вид>
								</Свойство>
							</ТаблицаСвойствПланаОбмена>
						</ЭлементОтбора>
						<ЭлементОтбора>
							<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
							<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
							<СвойствоПланаОбмена>[УчастникиЭДО].Организация</СвойствоПланаОбмена>
							<ВидСравнения>Равно</ВидСравнения>
							<СвойствоОбъекта>Ссылка</СвойствоОбъекта>
							<ТаблицаСвойствОбъекта>
								<Свойство>
									<Наименование>Ссылка</Наименование>
									<Тип>СправочникСсылка.Организации</Тип>
									<Вид>Свойство</Вид>
								</Свойство>
							</ТаблицаСвойствОбъекта>
							<ТаблицаСвойствПланаОбмена>
								<Свойство>
									<Наименование>[УчастникиЭДО]</Наименование>
									<Вид>ТабличнаяЧасть</Вид>
								</Свойство>
								<Свойство>
									<Наименование>Организация</Наименование>
									<Тип>СправочникСсылка.Организации</Тип>
									<Вид>Реквизит</Вид>
								</Свойство>
							</ТаблицаСвойствПланаОбмена>
						</ЭлементОтбора>
					</Группа>
				</ОтборПоСвойствамПланаОбмена>
				<ОтборПоСвойствамОбъекта/>
			</Правило>
			<Правило Отключить="false" Валидное="true">
				<Код>000000015</Код>
				<Наименование>Классификатор стран мира</Наименование>
				<ОбъектНастройки>СправочникСсылка.КлассификаторСтранМира</ОбъектНастройки>
				<ОбъектМетаданныхИмя>Справочник.КлассификаторСтранМира</ОбъектМетаданныхИмя>
				<ОбъектМетаданныхТип>Справочник</ОбъектМетаданныхТип>
				<РеквизитРежимаВыгрузки>РежимВыгрузкиПриНеобходимости</РеквизитРежимаВыгрузки>
				<ОтборПоСвойствамПланаОбмена/>
				<ОтборПоСвойствамОбъекта/>
			</Правило>
		</Группа>
		<Группа Отключить="false">
			<Код>000000012</Код>
			<Наименование>Документы</Наименование>
			<ТипГруппы>Документ</ТипГруппы>
			<Правило Отключить="false" Валидное="true">
				<Код>000000017</Код>
				<Наименование>Заказ поставщику</Наименование>
				<ОбъектНастройки>ДокументСсылка.ЗаказПоставщику</ОбъектНастройки>
				<ОбъектМетаданныхИмя>Документ.ЗаказПоставщику</ОбъектМетаданныхИмя>
				<ОбъектМетаданныхТип>Документ</ОбъектМетаданныхТип>
				<ОтборПоСвойствамПланаОбмена/>
				<ОтборПоСвойствамОбъекта/>
				<ПриОбработке>ИспользоватьКэш = Ложь;

Если Объект.ПометкаУдаления Тогда
	Отказ = Истина;
Иначе	
	ТекстЗапроса = 
		"ВЫБРАТЬ РАЗЛИЧНЫЕ
		|	ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
		|ИЗ
		|	ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО КАК ПланОбменаОсновнаяТаблица
		|		ЛЕВОЕ СОЕДИНЕНИЕ ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО.УчастникиЭДО КАК ПланОбменаУчастникиЭДО
		|		ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаУчастникиЭДО.Ссылка
		|ГДЕ
		|	ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов &lt;= &amp;СвойствоОбъекта_Дата
		|	И (ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО
		|			И ПланОбменаУчастникиЭДО.Организация = &amp;СвойствоОбъекта_Организация
		|			И ПланОбменаУчастникиЭДО.Контрагент = &amp;СвойствоОбъекта_Контрагент
		|		ИЛИ НЕ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО)
		|	И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
		|	И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &amp;ОбменУправлениеТорговлей103КлиентЭДОЭтотУзел
		|	[УсловиеОтбораПоРеквизитуФлагу]";

	ПараметрыЗапроса.Вставить("Дата",        Объект.Дата);
	ПараметрыЗапроса.Вставить("Организация", Объект.Организация);
	ПараметрыЗапроса.Вставить("Контрагент",  Объект.Контрагент);
КонецЕсли;</ПриОбработке>
				<ПриОбработкеДополнительный>ИспользоватьКэш = Ложь;

ТекстЗапроса = 
	"ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
	|ИЗ
	|	ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО КАК ПланОбменаОсновнаяТаблица
	|		ЛЕВОЕ СОЕДИНЕНИЕ ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО.УчастникиЭДО КАК ПланОбменаУчастникиЭДО
	|		ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаУчастникиЭДО.Ссылка
	|ГДЕ
	|	ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов &lt;= &amp;СвойствоОбъекта_Дата
	|	И (ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО
	|			И ПланОбменаУчастникиЭДО.Организация = &amp;СвойствоОбъекта_Организация
	|			И ПланОбменаУчастникиЭДО.Контрагент = &amp;СвойствоОбъекта_Контрагент
	|		ИЛИ НЕ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО)
	|	И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
	|	И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &amp;ОбменУправлениеТорговлей103КлиентЭДОЭтотУзел
	|	[УсловиеОтбораПоРеквизитуФлагу]";

ПараметрыЗапроса.Вставить("Дата",        Объект.Дата);
ПараметрыЗапроса.Вставить("Организация", Объект.Организация);
ПараметрыЗапроса.Вставить("Контрагент",  Объект.Контрагент);</ПриОбработкеДополнительный>
			</Правило>
			<Правило Отключить="false" Валидное="true">
				<Код>000000018</Код>
				<Наименование>Счет на оплату покупателю</Наименование>
				<ОбъектНастройки>ДокументСсылка.СчетНаОплатуПокупателю</ОбъектНастройки>
				<ОбъектМетаданныхИмя>Документ.СчетНаОплатуПокупателю</ОбъектМетаданныхИмя>
				<ОбъектМетаданныхТип>Документ</ОбъектМетаданныхТип>
				<ОтборПоСвойствамПланаОбмена/>
				<ОтборПоСвойствамОбъекта/>
				<ПриОбработке>ИспользоватьКэш = Ложь;

Если Объект.ПометкаУдаления Тогда
	Отказ = Истина;
Иначе	
	ТекстЗапроса = 
		"ВЫБРАТЬ РАЗЛИЧНЫЕ
		|	ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
		|ИЗ
		|	ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО КАК ПланОбменаОсновнаяТаблица
		|		ЛЕВОЕ СОЕДИНЕНИЕ ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО.УчастникиЭДО КАК ПланОбменаУчастникиЭДО
		|		ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаУчастникиЭДО.Ссылка
		|ГДЕ
		|	ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов &lt;= &amp;СвойствоОбъекта_Дата
		|	И (ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО
		|			И ПланОбменаУчастникиЭДО.Организация = &amp;СвойствоОбъекта_Организация
		|			И ПланОбменаУчастникиЭДО.Контрагент = &amp;СвойствоОбъекта_Контрагент
		|		ИЛИ НЕ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО)
		|	И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
		|	И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &amp;ОбменУправлениеТорговлей103КлиентЭДОЭтотУзел
		|	[УсловиеОтбораПоРеквизитуФлагу]";

	ПараметрыЗапроса.Вставить("Дата",        Объект.Дата);
	ПараметрыЗапроса.Вставить("Организация", Объект.Организация);
	ПараметрыЗапроса.Вставить("Контрагент",  Объект.Контрагент);
КонецЕсли;</ПриОбработке>
				<ПриОбработкеДополнительный>ИспользоватьКэш = Ложь;

ТекстЗапроса = 
	"ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
	|ИЗ
	|	ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО КАК ПланОбменаОсновнаяТаблица
	|		ЛЕВОЕ СОЕДИНЕНИЕ ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО.УчастникиЭДО КАК ПланОбменаУчастникиЭДО
	|		ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаУчастникиЭДО.Ссылка
	|ГДЕ
	|	ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов &lt;= &amp;СвойствоОбъекта_Дата
	|	И (ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО
	|			И ПланОбменаУчастникиЭДО.Организация = &amp;СвойствоОбъекта_Организация
	|			И ПланОбменаУчастникиЭДО.Контрагент = &amp;СвойствоОбъекта_Контрагент
	|		ИЛИ НЕ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО)
	|	И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
	|	И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &amp;ОбменУправлениеТорговлей103КлиентЭДОЭтотУзел
	|	[УсловиеОтбораПоРеквизитуФлагу]";

ПараметрыЗапроса.Вставить("Дата",        Объект.Дата);
ПараметрыЗапроса.Вставить("Организация", Объект.Организация);
ПараметрыЗапроса.Вставить("Контрагент",  Объект.Контрагент);
</ПриОбработкеДополнительный>
			</Правило>
			<Правило Отключить="false" Валидное="true">
				<Код>000000011</Код>
				<Наименование>Корректировка реализации</Наименование>
				<ОбъектНастройки>ДокументСсылка.КорректировкаРеализации</ОбъектНастройки>
				<ОбъектМетаданныхИмя>Документ.КорректировкаРеализации</ОбъектМетаданныхИмя>
				<ОбъектМетаданныхТип>Документ</ОбъектМетаданныхТип>
				<ОтборПоСвойствамПланаОбмена/>
				<ОтборПоСвойствамОбъекта/>
				<ПриОбработке>ИспользоватьКэш = Ложь;

Если Объект.ПометкаУдаления Тогда
	Отказ = Истина;
Иначе	
	ТекстЗапроса = 
		"ВЫБРАТЬ РАЗЛИЧНЫЕ
		|	ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
		|ИЗ
		|	ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО КАК ПланОбменаОсновнаяТаблица
		|		ЛЕВОЕ СОЕДИНЕНИЕ ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО.УчастникиЭДО КАК ПланОбменаУчастникиЭДО
		|		ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаУчастникиЭДО.Ссылка
		|ГДЕ
		|	ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов &lt;= &amp;СвойствоОбъекта_Дата
		|	И (ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО
		|			И ПланОбменаУчастникиЭДО.Организация = &amp;СвойствоОбъекта_Организация
		|			И ПланОбменаУчастникиЭДО.Контрагент = &amp;СвойствоОбъекта_Контрагент
		|		ИЛИ НЕ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО)
		|	И (ПланОбменаОсновнаяТаблица.ПередаватьТолькоДокументыОтраженныеВБУ
		|			И &amp;СвойствоОбъекта_ОтражатьВБухгалтерскомУчете
		|		ИЛИ НЕ ПланОбменаОсновнаяТаблица.ПередаватьТолькоДокументыОтраженныеВБУ)
		|	И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
		|	И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &amp;ОбменУправлениеТорговлей103КлиентЭДОЭтотУзел
		|	[УсловиеОтбораПоРеквизитуФлагу]";

	ПараметрыЗапроса.Вставить("Дата",        Объект.Дата);
	ПараметрыЗапроса.Вставить("Организация", Объект.Организация);
	ПараметрыЗапроса.Вставить("Контрагент",  Объект.Контрагент);
	ПараметрыЗапроса.Вставить("ОтражатьВБухгалтерскомУчете", Объект.ОтражатьВБухгалтерскомУчете);
КонецЕсли;</ПриОбработке>
				<ПриОбработкеДополнительный>ИспользоватьКэш = Ложь;

ТекстЗапроса = 
	"ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
	|ИЗ
	|	ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО КАК ПланОбменаОсновнаяТаблица
	|		ЛЕВОЕ СОЕДИНЕНИЕ ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО.УчастникиЭДО КАК ПланОбменаУчастникиЭДО
	|		ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаУчастникиЭДО.Ссылка
	|ГДЕ
	|	ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов &lt;= &amp;СвойствоОбъекта_Дата
	|	И (ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО
	|			И ПланОбменаУчастникиЭДО.Организация = &amp;СвойствоОбъекта_Организация
	|			И ПланОбменаУчастникиЭДО.Контрагент = &amp;СвойствоОбъекта_Контрагент
	|		ИЛИ НЕ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО)
	|	И (ПланОбменаОсновнаяТаблица.ПередаватьТолькоДокументыОтраженныеВБУ
	|			И &amp;СвойствоОбъекта_ОтражатьВБухгалтерскомУчете
	|		ИЛИ НЕ ПланОбменаОсновнаяТаблица.ПередаватьТолькоДокументыОтраженныеВБУ)
	|	И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
	|	И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &amp;ОбменУправлениеТорговлей103КлиентЭДОЭтотУзел
	|	[УсловиеОтбораПоРеквизитуФлагу]";

ПараметрыЗапроса.Вставить("Дата",        Объект.Дата);
ПараметрыЗапроса.Вставить("Организация", Объект.Организация);
ПараметрыЗапроса.Вставить("Контрагент",  Объект.Контрагент);
ПараметрыЗапроса.Вставить("ОтражатьВБухгалтерскомУчете", Объект.ОтражатьВБухгалтерскомУчете);</ПриОбработкеДополнительный>
			</Правило>
			<Правило Отключить="false" Валидное="true">
				<Код>000000013</Код>
				<Наименование>Реализация товаров и услуг</Наименование>
				<ОбъектНастройки>ДокументСсылка.РеализацияТоваровУслуг</ОбъектНастройки>
				<ОбъектМетаданныхИмя>Документ.РеализацияТоваровУслуг</ОбъектМетаданныхИмя>
				<ОбъектМетаданныхТип>Документ</ОбъектМетаданныхТип>
				<ОтборПоСвойствамПланаОбмена/>
				<ОтборПоСвойствамОбъекта/>
				<ПриОбработке>ИспользоватьКэш = Ложь;

Если Объект.ПометкаУдаления Тогда
	Отказ = Истина;
Иначе	
	ТекстЗапроса = 
		"ВЫБРАТЬ РАЗЛИЧНЫЕ
		|	ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
		|ИЗ
		|	ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО КАК ПланОбменаОсновнаяТаблица
		|		ЛЕВОЕ СОЕДИНЕНИЕ ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО.УчастникиЭДО КАК ПланОбменаУчастникиЭДО
		|		ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаУчастникиЭДО.Ссылка
		|ГДЕ
		|	ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов &lt;= &amp;СвойствоОбъекта_Дата
		|	И (ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО
		|			И ПланОбменаУчастникиЭДО.Организация = &amp;СвойствоОбъекта_Организация
		|			И ПланОбменаУчастникиЭДО.Контрагент = &amp;СвойствоОбъекта_Контрагент
		|		ИЛИ НЕ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО)
		|	И (ПланОбменаОсновнаяТаблица.ПередаватьТолькоДокументыОтраженныеВБУ
		|			И &amp;СвойствоОбъекта_ОтражатьВБухгалтерскомУчете
		|		ИЛИ НЕ ПланОбменаОсновнаяТаблица.ПередаватьТолькоДокументыОтраженныеВБУ)
		|	И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
		|	И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &amp;ОбменУправлениеТорговлей103КлиентЭДОЭтотУзел
		|	[УсловиеОтбораПоРеквизитуФлагу]";

	ПараметрыЗапроса.Вставить("Дата",        Объект.Дата);
	ПараметрыЗапроса.Вставить("Организация", Объект.Организация);
	ПараметрыЗапроса.Вставить("Контрагент",  Объект.Контрагент);
	ПараметрыЗапроса.Вставить("ОтражатьВБухгалтерскомУчете", Объект.ОтражатьВБухгалтерскомУчете);
КонецЕсли;</ПриОбработке>
				<ПриОбработкеДополнительный>ИспользоватьКэш = Ложь;

ТекстЗапроса = 
	"ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
	|ИЗ
	|	ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО КАК ПланОбменаОсновнаяТаблица
	|		ЛЕВОЕ СОЕДИНЕНИЕ ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО.УчастникиЭДО КАК ПланОбменаУчастникиЭДО
	|		ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаУчастникиЭДО.Ссылка
	|ГДЕ
	|	ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов &lt;= &amp;СвойствоОбъекта_Дата
	|	И (ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО
	|			И ПланОбменаУчастникиЭДО.Организация = &amp;СвойствоОбъекта_Организация
	|			И ПланОбменаУчастникиЭДО.Контрагент = &amp;СвойствоОбъекта_Контрагент
	|		ИЛИ НЕ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО)
	|	И (ПланОбменаОсновнаяТаблица.ПередаватьТолькоДокументыОтраженныеВБУ
	|			И &amp;СвойствоОбъекта_ОтражатьВБухгалтерскомУчете
	|		ИЛИ НЕ ПланОбменаОсновнаяТаблица.ПередаватьТолькоДокументыОтраженныеВБУ)
	|	И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
	|	И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &amp;ОбменУправлениеТорговлей103КлиентЭДОЭтотУзел
	|	[УсловиеОтбораПоРеквизитуФлагу]";

ПараметрыЗапроса.Вставить("Дата",        Объект.Дата);
ПараметрыЗапроса.Вставить("Организация", Объект.Организация);
ПараметрыЗапроса.Вставить("Контрагент",  Объект.Контрагент);
ПараметрыЗапроса.Вставить("ОтражатьВБухгалтерскомУчете", Объект.ОтражатьВБухгалтерскомУчете);</ПриОбработкеДополнительный>
			</Правило>
			<Правило Отключить="false" Валидное="true">
				<Код>000000014</Код>
				<Наименование>Счет-фактура выданный</Наименование>
				<ОбъектНастройки>ДокументСсылка.СчетФактураВыданный</ОбъектНастройки>
				<ОбъектМетаданныхИмя>Документ.СчетФактураВыданный</ОбъектМетаданныхИмя>
				<ОбъектМетаданныхТип>Документ</ОбъектМетаданныхТип>
				<ОтборПоСвойствамПланаОбмена/>
				<ОтборПоСвойствамОбъекта/>
				<ПриОбработке>ИспользоватьКэш = Ложь;

Если Объект.ПометкаУдаления Тогда
	Отказ = Истина;
Иначе	
	ТекстЗапроса = 
		"ВЫБРАТЬ РАЗЛИЧНЫЕ
		|	ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
		|ИЗ
		|	ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО КАК ПланОбменаОсновнаяТаблица
		|		ЛЕВОЕ СОЕДИНЕНИЕ ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО.УчастникиЭДО КАК ПланОбменаУчастникиЭДО
		|		ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаУчастникиЭДО.Ссылка
		|ГДЕ
		|	ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов &lt;= &amp;СвойствоОбъекта_Дата
		|	И (ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО
		|			И ПланОбменаУчастникиЭДО.Организация = &amp;СвойствоОбъекта_Организация
		|			И ПланОбменаУчастникиЭДО.Контрагент = &amp;СвойствоОбъекта_Контрагент
		|		ИЛИ НЕ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО)
		|	И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
		|	И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &amp;ОбменУправлениеТорговлей103КлиентЭДОЭтотУзел
		|	[УсловиеОтбораПоРеквизитуФлагу]";

	ПараметрыЗапроса.Вставить("Дата",        Объект.Дата);
	ПараметрыЗапроса.Вставить("Организация", Объект.Организация);
	ПараметрыЗапроса.Вставить("Контрагент",  Объект.Контрагент);
КонецЕсли;</ПриОбработке>
				<ПриОбработкеДополнительный>ИспользоватьКэш = Ложь;

ТекстЗапроса = 
	"ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
	|ИЗ
	|	ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО КАК ПланОбменаОсновнаяТаблица
	|		ЛЕВОЕ СОЕДИНЕНИЕ ПланОбмена.ОбменУправлениеТорговлей103КлиентЭДО.УчастникиЭДО КАК ПланОбменаУчастникиЭДО
	|		ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаУчастникиЭДО.Ссылка
	|ГДЕ
	|	ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов &lt;= &amp;СвойствоОбъекта_Дата
	|	И (ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО
	|			И ПланОбменаУчастникиЭДО.Организация = &amp;СвойствоОбъекта_Организация
	|			И ПланОбменаУчастникиЭДО.Контрагент = &amp;СвойствоОбъекта_Контрагент
	|		ИЛИ НЕ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоУчастникамЭДО)
	|	И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
	|	И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &amp;ОбменУправлениеТорговлей103КлиентЭДОЭтотУзел
	|	[УсловиеОтбораПоРеквизитуФлагу]";

ПараметрыЗапроса.Вставить("Дата",        Объект.Дата);
ПараметрыЗапроса.Вставить("Организация", Объект.Организация);
ПараметрыЗапроса.Вставить("Контрагент",  Объект.Контрагент);</ПриОбработкеДополнительный>
			</Правило>
		</Группа>
	</ПравилаРегистрацииОбъектов>
</ПравилаРегистрации>